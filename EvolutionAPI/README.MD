<h1 align="center">üöÄ Instala√ß√£o e configura√ß√£do do Evolution API üöÄ</h1> 

## Utilizado em conjunto com o TypeBot para que o Robo seja acionado e envie o fluxo

## Fluxo

- ‚û°Ô∏è Acesse o container no VSCODE abra um terminal e siga o processo
- ‚û°Ô∏è Instale Depend√™ncias:
- ‚û°Ô∏è Provavelmente o git ja estara instalado:

```bash
git --version
```

- ‚û°Ô∏è Se n√£o estiver instale:

```bash
sudo apt install git -y
```

- ‚û°Ô∏è Para instalar o Evolution API acesse o repositorio:
    - ‚û°Ô∏è https://github.com/evolutionapi/evolution-api
    - ‚û°Ô∏è V√° ate <> CODE e copie o endere√ßo para ser clonado no git do servidor.
    - ‚û°Ô∏è Abra o terminal no servidor, saia da pasta do typebot e clone o repositorio:

```bash
sudo git clone https://github.com/EvolutionAPI/evolution-api.git
```

- ‚û°Ô∏è Ao gerar o clone uma pasta chamada evolution-api sera criada com todos os arquivos necessarios para funcionamento.

OBSERVA√á√ïES:

- ‚û°Ô∏è Dentro da pasta do evolution-api existe um arquivo chamado .env.example, mude o nome para .env
- ‚û°Ô∏è Caso de erro de permiss√£o, garanta que o usuario sysadmin tem acesso completo na pasta:

```bash
sudo chown -R sysadmin:sysadmin /opt/docker/evolution-api
sudo chmod -R 770 /opt/docker/evolution-api
```

- ‚û°Ô∏è Agora vamos editar o arquivo .env e mudar algumas configura√ß√µes:

- ‚û°Ô∏è Logo no inicio do arquivo altere a op√ß√£o:
    - ‚û°Ô∏è Usaremos aqui a porta 8090 pois a vivo pode ter bloqueado acesso a 8080
    - ‚û°Ô∏è SERVER_URL=http://localhost:8080 para o endere√ßo de IP do servidor:
        - ‚û°Ô∏èSERVER_URL=http://192.168.15.170:8090
- ‚û°Ô∏è Procure essa linha no arquivo e altere:
    - ‚û°Ô∏è Isso evitar√° erros no redis para subir o servi√ßo (efetuado testes)
    - ‚û°Ô∏èCACHE_REDIS_URI=redis://localhost:6379/6
        - ‚û°Ô∏èCACHE_REDIS_URI=redis://192.168.15.170:6379/6
- ‚û°Ô∏è Procure tamb√©m essa linha para habilitar o typebot pois vem desligado:
    - ‚û°Ô∏è TYPEBOT_ENABLED=false
        - ‚û°Ô∏è TYPEBOT_ENABLED=true

- ‚û°Ô∏è Se tudo estiver correto inicie o docker do Evolution API: (entre na pasta do evolution api)

```bash
sudo docker compose up -d
```

- ‚û°Ô∏è Acesse o endere√ßo url do Evolution API:

- http://192.168.15.170:8090/
- Dever√° aparecer essa informa√ß√£o:

```json
{
  "status": 200,
  "message": "Welcome to the Evolution API, it is working!",
  "version": "2.2.3",
  "clientName": "evolution_exchange",
  "manager": "http://192.168.15.180:8080/manager",
  "documentation": "https://doc.evolution-api.com"
}
```
- Isso demonstra que esta tudo certo com o aplicativo
- Agora acesse o manager para poder utilizar o aplicativo.
    - http://192.168.15.180:8080/manager
    - Ele ira pedir uma chave de api para acessar o aplicativo
        - Essa chave esta no arquivo .env la no final
        - AUTHENTICATION_API_KEY
        - 429683C4C977415CAAFCCE10F7D57E11

Dentro do evolution api voce cria uma instancia para se conectar ao whatsapp.

Depois vai em integracao e cria a integra√ß√£o com o typebot